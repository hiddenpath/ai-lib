# AiClient::quick_chat_text() è°ƒç”¨æµç¨‹å›¾

## ğŸ”„ å®Œæ•´è°ƒç”¨é“¾

```
ç”¨æˆ·è°ƒç”¨
    â†“
quick_chat_text(Provider::Groq, "Hello!")
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤1: AiClient::new(Provider::Groq)                       â”‚
â”‚   â†“                                                         â”‚
â”‚   AiClientBuilder::new(Provider::Groq).build()             â”‚
â”‚   â†“                                                         â”‚
â”‚   â”œâ”€ æ£€æŸ¥ provider ç±»å‹ (Config-driven)                    â”‚
â”‚   â”œâ”€ åŠ è½½ ProviderConfigs::groq()                          â”‚
â”‚   â”œâ”€ åˆ›å»º GenericAdapter                                    â”‚
â”‚   â”œâ”€ åˆ›å»º HttpTransport                                     â”‚
â”‚   â””â”€ è¿”å› AiClient å®ä¾‹                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤2: client.build_simple_request("Hello!")               â”‚
â”‚   â†“                                                         â”‚
â”‚   â”œâ”€ è°ƒç”¨ Provider::Groq.default_chat_model()              â”‚
â”‚   â”‚  è¿”å› "llama-3.1-8b-instant"                          â”‚
â”‚   â”œâ”€ åˆ›å»º Message { role: User, content: "Hello!" }        â”‚
â”‚   â””â”€ è¿”å› ChatCompletionRequest                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤3: client.chat_completion(request).await               â”‚
â”‚   â†“                                                         â”‚
â”‚   GenericAdapter::chat_completion(request)                  â”‚
â”‚   â†“                                                         â”‚
â”‚   â”œâ”€ convert_request() - è½¬æ¢ä¸º Groq æ ¼å¼                  â”‚
â”‚   â”œâ”€ æ„å»º HTTP è¯·æ±‚å¤´ (Authorization: Bearer ...)          â”‚
â”‚   â”œâ”€ HttpTransport::post_json() - å‘é€ HTTP è¯·æ±‚           â”‚
â”‚   â”œâ”€ å¤„ç†å“åº”å’Œé”™è¯¯é‡è¯•                                     â”‚
â”‚   â””â”€ parse_response() - è§£æä¸ºç»Ÿä¸€æ ¼å¼                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤4: response.first_text()                               â”‚
â”‚   â†“                                                         â”‚
â”‚   â”œâ”€ æ£€æŸ¥ choices[0] æ˜¯å¦å­˜åœ¨                              â”‚
â”‚   â”œâ”€ æå– message.content                                  â”‚
â”‚   â”œâ”€ éªŒè¯å†…å®¹ç±»å‹ä¸º Text                                   â”‚
â”‚   â””â”€ è¿”å› &str                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
è¿”å› String ç»“æœç»™ç”¨æˆ·
```

## ğŸ—ï¸ å…³é”®ç»„ä»¶å…³ç³»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Provider      â”‚    â”‚  ProviderConfigs â”‚    â”‚  GenericAdapter â”‚
â”‚   (æšä¸¾)        â”‚â”€â”€â”€â–¶â”‚  (é…ç½®ç®¡ç†)      â”‚â”€â”€â”€â–¶â”‚  (é€šç”¨é€‚é…å™¨)   â”‚
â”‚                 â”‚    â”‚                  â”‚    â”‚                 â”‚
â”‚ - Groq          â”‚    â”‚ - groq()         â”‚    â”‚ - è½¬æ¢è¯·æ±‚æ ¼å¼  â”‚
â”‚ - OpenAI        â”‚    â”‚ - openai()       â”‚    â”‚ - å¤„ç†è®¤è¯      â”‚
â”‚ - Gemini        â”‚    â”‚ - gemini()       â”‚    â”‚ - å‘é€HTTPè¯·æ±‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ default_chat_   â”‚    â”‚  ProviderConfig  â”‚    â”‚  HttpTransport  â”‚
â”‚ model()         â”‚    â”‚  (é…ç½®ç»“æ„)      â”‚    â”‚  (HTTPä¼ è¾“å±‚)   â”‚
â”‚                 â”‚    â”‚                  â”‚    â”‚                 â”‚
â”‚ - è¿”å›æ¨¡å‹åç§°  â”‚    â”‚ - base_url       â”‚    â”‚ - è¿æ¥æ± ç®¡ç†    â”‚
â”‚ - ç¡¬ç¼–ç é…ç½®    â”‚    â”‚ - api_key_env    â”‚    â”‚ - é‡è¯•æœºåˆ¶      â”‚
â”‚ - éœ€è¦æ‰‹åŠ¨æ›´æ–°  â”‚    â”‚ - default_model  â”‚    â”‚ - é”™è¯¯å¤„ç†      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ é…ç½®å±‚æ¬¡ç»“æ„

```
ç¯å¢ƒå˜é‡å±‚
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GROQ_API_KEY=your_key_here                                 â”‚
â”‚ GROQ_BASE_URL=https://api.groq.com/openai/v1 (å¯é€‰)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
ä»£ç é…ç½®å±‚
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Provider::default_chat_model()                             â”‚
â”‚   Provider::Groq => "llama-3.1-8b-instant"                â”‚
â”‚                                                             â”‚
â”‚ ProviderConfigs::groq()                                    â”‚
â”‚   base_url: "https://api.groq.com/openai/v1"              â”‚
â”‚   api_key_env: "GROQ_API_KEY"                             â”‚
â”‚   default_model: "llama-3.1-8b-instant"                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
è¿è¡Œæ—¶é…ç½®å±‚
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AiClientBuilder æ„å»ºè¿‡ç¨‹                                    â”‚
â”‚ 1. æ£€æŸ¥ç¯å¢ƒå˜é‡                                            â”‚
â”‚ 2. åº”ç”¨é»˜è®¤é…ç½®                                            â”‚
â”‚ 3. åˆ›å»ºé€‚é…å™¨å’Œä¼ è¾“å±‚                                      â”‚
â”‚ 4. è¿”å›é…ç½®å¥½çš„å®¢æˆ·ç«¯                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âš¡ æ€§èƒ½è€ƒè™‘

### æ¯æ¬¡è°ƒç”¨çš„å¼€é”€
```
quick_chat_text() è°ƒç”¨
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ€§èƒ½å¼€é”€åˆ†æ:                                               â”‚
â”‚                                                             â”‚
â”‚ 1. å®¢æˆ·ç«¯åˆ›å»º: ~1-2ms                                      â”‚
â”‚    - AiClientBuilder::build()                              â”‚
â”‚    - é…ç½®åŠ è½½å’ŒéªŒè¯                                         â”‚
â”‚    - é€‚é…å™¨åˆå§‹åŒ–                                           â”‚
â”‚                                                             â”‚
â”‚ 2. è¯·æ±‚æ„å»º: ~0.1ms                                        â”‚
â”‚    - build_simple_request()                                â”‚
â”‚    - Message ç»“æ„ä½“åˆ›å»º                                     â”‚
â”‚                                                             â”‚
â”‚ 3. ç½‘ç»œè¯·æ±‚: ~100-1000ms                                   â”‚
â”‚    - HTTP è¿æ¥å»ºç«‹                                          â”‚
â”‚    - è¯·æ±‚å‘é€å’Œå“åº”æ¥æ”¶                                     â”‚
â”‚    - ç½‘ç»œå»¶è¿Ÿ                                               â”‚
â”‚                                                             â”‚
â”‚ 4. å“åº”è§£æ: ~0.5ms                                        â”‚
â”‚    - JSON è§£æ                                              â”‚
â”‚    - æ ¼å¼è½¬æ¢                                               â”‚
â”‚                                                             â”‚
â”‚ æ€»å¼€é”€: ~102-1003ms (ä¸»è¦åœ¨ç½‘ç»œè¯·æ±‚)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¼˜åŒ–å»ºè®®
```
é«˜é¢‘è°ƒç”¨åœºæ™¯ä¼˜åŒ–:
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. å®¢æˆ·ç«¯å¤ç”¨:                                             â”‚
â”‚    let client = AiClient::new(Provider::Groq)?;            â”‚
â”‚    for prompt in prompts {                                 â”‚
â”‚        let req = client.build_simple_request(prompt);      â”‚
â”‚        let resp = client.chat_completion(req).await?;      â”‚
â”‚    }                                                       â”‚
â”‚                                                             â”‚
â”‚ 2. è¿æ¥æ± é…ç½®:                                             â”‚
â”‚    let client = AiClientBuilder::new(Provider::Groq)       â”‚
â”‚        .with_pool_config(16, Duration::from_secs(60))      â”‚
â”‚        .build()?;                                          â”‚
â”‚                                                             â”‚
â”‚ 3. æ‰¹é‡å¤„ç†:                                               â”‚
â”‚    // ä½¿ç”¨ streaming æˆ– batch API                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ è®¾è®¡æ¨¡å¼åˆ†æ

### ä½¿ç”¨çš„è®¾è®¡æ¨¡å¼

1. **é€‚é…å™¨æ¨¡å¼ (Adapter Pattern)**
   - `GenericAdapter` ç»Ÿä¸€ä¸åŒæä¾›å•†çš„æ¥å£
   - å°† OpenAI å…¼å®¹æ ¼å¼è½¬æ¢ä¸ºå„æä¾›å•†ç‰¹å®šæ ¼å¼

2. **å»ºé€ è€…æ¨¡å¼ (Builder Pattern)**
   - `AiClientBuilder` æä¾›çµæ´»çš„å®¢æˆ·ç«¯æ„å»º
   - æ”¯æŒé“¾å¼è°ƒç”¨å’Œå¯é€‰é…ç½®

3. **ç­–ç•¥æ¨¡å¼ (Strategy Pattern)**
   - `Provider` æšä¸¾å®šä¹‰ä¸åŒçš„æä¾›å•†ç­–ç•¥
   - è¿è¡Œæ—¶é€‰æ‹©å¯¹åº”çš„é€‚é…å™¨å’Œé…ç½®

4. **å·¥å‚æ¨¡å¼ (Factory Pattern)**
   - `ProviderConfigs` å·¥å‚åˆ›å»ºé¢„å®šä¹‰é…ç½®
   - æ ¹æ®æä¾›å•†ç±»å‹åˆ›å»ºå¯¹åº”çš„é…ç½®å¯¹è±¡

5. **å¤–è§‚æ¨¡å¼ (Facade Pattern)**
   - `quick_chat_text()` æä¾›ç®€åŒ–çš„ç»Ÿä¸€æ¥å£
   - éšè—å¤æ‚çš„å†…éƒ¨å®ç°ç»†èŠ‚

è¿™ç§å¤šå±‚æ¬¡çš„è®¾è®¡ä½¿å¾— `quick_chat_text()` æ–¹æ³•æ—¢ç®€å•æ˜“ç”¨ï¼Œåˆå…·æœ‰å¾ˆå¥½çš„æ‰©å±•æ€§å’Œç»´æŠ¤æ€§ã€‚
